---
layout: post
title: Linux折腾03
subtitle: Linux折腾03
date: 2020-02-01
author: nightmare-man
tags: linux
---
# 		Linux折腾03

### 0x00 免密码登陆

​	上次说到，ssh有两种登陆方式，前面用的第一种口令登陆。但是太麻烦要输入很多，现在来试试第二中，免密登陆。这种登陆方式原理就是服务器事先有客户端的**公匙**，当我们想连接的时候，服务器就产生个**数据A**，然后用**公匙**把**数据A**加密得到加密后的**密文B**.再把**密文B**发给客户端，客户端对**密文B**进行解密发回服务器，如果与**数据A**一致，则证明客户端身份。

​	ubuntu上具体操作流程如下：

1.在客户端使用命令**ssh-keygen**生成密匙对

![TIM截图20200201213436](/assets/img/TIM截图20200201213436.png)

过程中会询问保存密匙对位置，直接回车则为默认位置，为用户目录下的**.ssh**文件夹里（注意.ssh是隐藏目录 windows下要勾选查看隐藏文件），后缀为pub的是公匙。

如果已有密匙对则会如图提示是否覆盖，后面还有个**passphrase**是使用私匙时的密码，直接回车可跳过。

2.以文本方式打开公匙文件，复制公匙（所有字符）。

3.先使用口令ssh登陆到服务器，同样在用户登陆目录下找到对应的**.ssh**文件夹，vim打开里面的authorized_keys文件，将上一步的公匙粘贴进去，保存并退出即可，再次登陆时就不用输入密码。

![TIM截图20200201214518](/assets/img/TIM截图20200201214518.png)

